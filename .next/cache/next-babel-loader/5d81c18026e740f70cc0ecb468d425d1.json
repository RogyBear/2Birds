{"ast":null,"code":"import _Object$values from \"@babel/runtime-corejs2/core-js/object/values\";\nvar _jsxFileName = \"C:\\\\Users\\\\roger\\\\OneDrive\\\\Desktop\\\\Dasha_Next\\\\Dasha\\\\components\\\\ShippingInfo.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect, useContext } from 'react';\nimport { ShippingContext } from '../contexts/ShippingContext';\nimport { CartContext } from '../contexts/CartContext';\nimport { useRouter } from 'next/router';\nimport axios from 'axios';\nimport { LanguageContext } from '../contexts/LanguageContext';\nexport default function ShippingInfo() {\n  const {\n    cart,\n    setCart,\n    shipSubmit,\n    setShipSubmit\n  } = useContext(CartContext);\n  const {\n    handleChange,\n    contact\n  } = useContext(ShippingContext);\n  const {\n    currLang,\n    language\n  } = useContext(LanguageContext);\n  const router = useRouter();\n  const style = {\n    display: 'flex',\n    justifyContent: 'space-between',\n    width: '100%'\n  };\n  let cartConfirm;\n  let totalStoredPrice;\n  const ru = language.russian.cart;\n  const en = language.english.cart;\n\n  if (false) {\n    cartConfirm = JSON.parse(sessionStorage.getItem('cart'));\n    totalStoredPrice = JSON.parse(sessionStorage.getItem('totalPrice'));\n  } else {\n    cartConfirm = [];\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const parsedCart = JSON.parse(sessionStorage.getItem('cart'));\n    const data = {\n      contact,\n      parsedCart\n    };\n    const email = {};\n    axios.post(`${process.env.CMSLINKORDERS}`, data).then(res => {\n      email.to = res.data.emailAddress;\n      email.subject = `2BirdsWedding: Номер заказа / Order Confirmation: ${res.data.order_number}`;\n      email.text = `Мы получили Ваш заказ и свяжемся с Вами в течение 24 часов. Спасибо! \n\t\t\t\t<br> \n\t\t\t\tС уважением, \n\t\t\t\t<br>\n\t\t\t\tДаша \n\t\t\t\t<br>\n\t\t\t\t<br> \n\t\t\t\t<hr> \n\t\t\t\t<br> \n\t\t\t\tYour order has been submitted! We will be in contact with you within 24 hours. Thank You!\n\t\t\t\t<br> \n\t\t\t\tSincerely, \n\t\t\t\t<br>\n\t\t\t\tDasha`;\n      email.orderNumber = res.data.order_number; //redirect to thank you page\n\n      router.push({\n        pathname: '/confirmation',\n        query: {\n          orderNumber: res.data.order_number\n        }\n      }); //clear session storage\n\n      setCart([]);\n      return axios.post(`${process.env.CMSLINKEMAILS}`, email);\n    });\n  }; //Handles iteration of items in the session storage cart\n\n\n  return __jsx(\"div\", {\n    className: \"shipping-info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, __jsx(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"shipping-info__form\",\n    style: {\n      margin: '0px auto'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, __jsx(\"h2\", {\n    className: \"shipping-info__form__title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, currLang ? ru.title : en.title), __jsx(\"div\", {\n    className: \"shipping-info__form__group\",\n    style: style,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"text\",\n    name: \"firstName\",\n    onChange: e => {\n      handleChange(e);\n    },\n    className: \"shipping-info__form__group__input\",\n    placeholder: currLang ? ru.firstName : en.firstName,\n    style: {\n      width: '340px'\n    },\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }), __jsx(\"input\", {\n    type: \"text\",\n    name: \"lastName\",\n    onChange: e => {\n      handleChange(e);\n    },\n    style: {\n      width: '340px'\n    },\n    className: \"shipping-info__form__group__input\",\n    placeholder: currLang ? ru.lastName : en.lastName,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: \"shipping-info__form__group\",\n    style: style,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"email\",\n    name: \"emailAddress\",\n    onChange: e => {\n      handleChange(e);\n    },\n    style: {\n      width: '340px'\n    },\n    className: \"shipping-info__form__group__input\",\n    placeholder: currLang ? ru.email : en.email,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }), __jsx(\"input\", {\n    type: \"tel\",\n    name: \"telephoneNumber\",\n    onChange: e => {\n      handleChange(e);\n    },\n    style: {\n      width: '340px'\n    },\n    className: \"shipping-info__form__group__input\",\n    placeholder: currLang ? ru.phoneNumber : en.phoneNumber,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: \"shipping-info__form__information\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, currLang ? ru.information : en.information), __jsx(\"h2\", {\n    className: \"shipping-info__form__title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }, currLang ? ru.confirmation : en.confirmation), __jsx(\"ul\", {\n    className: \"shipping-info__form__cart shipping-info__form__cart__header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, __jsx(\"li\", {\n    className: \"shipping-info__form__cart__item shipping-info__form__cart__header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }, currLang ? ru.productImage : en.productImage), __jsx(\"li\", {\n    className: \"shipping-info__form__cart__item shipping-info__form__cart__header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }, currLang ? ru.productName : en.productName), __jsx(\"li\", {\n    className: \"shipping-info__form__cart__item shipping-info__form__cart__header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182\n    },\n    __self: this\n  }, currLang ? ru.productAddOns : en.productAddOns), __jsx(\"li\", {\n    className: \"shipping-info__form__cart__item shipping-info__form__cart__header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }, currLang ? ru.productQuantity : en.productQuantity), __jsx(\"li\", {\n    className: \"shipping-info__form__cart__item shipping-info__form__cart__header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }, currLang ? ru.productTotal : en.productTotal)), _Object$values(cartConfirm).map(el => {\n    if (typeof el === 'object') {\n      return __jsx(\"ul\", {\n        className: \"shipping-info__form__cart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, __jsx(\"li\", {\n        className: \"shipping-info__form__cart__item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, __jsx(\"img\", {\n        style: {\n          width: '75px',\n          height: '85px'\n        },\n        src: `${process.env.CMSLINK}${el.productImage}`,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      })), __jsx(\"li\", {\n        className: \"shipping-info__form__cart__item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, currLang ? el.productName.ru : el.productName.en), __jsx(\"li\", {\n        className: \"shipping-info__form__cart__item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, __jsx(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, _Object$values(el.productParams).map(element => {\n        return __jsx(\"li\", {\n          key: element.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209\n          },\n          __self: this\n        }, currLang ? element.ru : element.en);\n      }))), __jsx(\"li\", {\n        className: \"shipping-info__form__cart__item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, el.quantity), __jsx(\"li\", {\n        className: \"shipping-info__form__cart__item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, el.productPrice * el.quantity, \" p.\"));\n    }\n  }), __jsx(\"ul\", {\n    className: \"shipping-info__form__cart\",\n    style: {\n      borderBottom: 'none'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220\n    },\n    __self: this\n  }, __jsx(\"li\", {\n    className: \"shipping-info__form__cart__item\",\n    style: {\n      borderBottom: 'none'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  }, ' '), __jsx(\"li\", {\n    className: \"shipping-info__form__cart__item\",\n    style: {\n      borderBottom: 'none'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224\n    },\n    __self: this\n  }, ' '), __jsx(\"li\", {\n    className: \"shipping-info__form__cart__item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227\n    },\n    __self: this\n  }, __jsx(\"button\", {\n    type: \"submit\",\n    onClick: () => {\n      setShipSubmit(true);\n    },\n    className: \"shipping-info__form__button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228\n    },\n    __self: this\n  }, currLang ? ru.submit : en.submit)), __jsx(\"li\", {\n    className: \"shipping-info__form__cart__item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238\n    },\n    __self: this\n  }, currLang ? ru.orderTotal : en.orderTotal, \":\"), __jsx(\"li\", {\n    className: \"shipping-info__form__cart__item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239\n    },\n    __self: this\n  }, totalStoredPrice, \" p.\"))));\n}","map":{"version":3,"sources":["C:/Users/roger/OneDrive/Desktop/Dasha_Next/Dasha/components/ShippingInfo.js"],"names":["React","useState","useEffect","useContext","ShippingContext","CartContext","useRouter","axios","LanguageContext","ShippingInfo","cart","setCart","shipSubmit","setShipSubmit","handleChange","contact","currLang","language","router","style","display","justifyContent","width","cartConfirm","totalStoredPrice","ru","russian","en","english","JSON","parse","sessionStorage","getItem","handleSubmit","e","preventDefault","parsedCart","data","email","post","process","env","CMSLINKORDERS","then","res","to","emailAddress","subject","order_number","text","orderNumber","push","pathname","query","CMSLINKEMAILS","margin","title","firstName","lastName","phoneNumber","information","confirmation","productImage","productName","productAddOns","productQuantity","productTotal","map","el","height","CMSLINK","productParams","element","id","quantity","productPrice","borderBottom","submit","orderTotal"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { ShippingContext } from '../contexts/ShippingContext';\r\nimport { CartContext } from '../contexts/CartContext';\r\nimport { useRouter } from 'next/router';\r\nimport axios from 'axios';\r\nimport { LanguageContext } from '../contexts/LanguageContext';\r\nexport default function ShippingInfo() {\r\n\tconst { cart, setCart, shipSubmit, setShipSubmit } = useContext(CartContext);\r\n\tconst { handleChange, contact } = useContext(ShippingContext);\r\n\tconst { currLang, language } = useContext(LanguageContext);\r\n\tconst router = useRouter();\r\n\tconst style = { display: 'flex', justifyContent: 'space-between', width: '100%' };\r\n\tlet cartConfirm;\r\n\tlet totalStoredPrice;\r\n\tconst ru = language.russian.cart;\r\n\tconst en = language.english.cart;\r\n\tif (typeof window !== 'undefined') {\r\n\t\tcartConfirm = JSON.parse(sessionStorage.getItem('cart'));\r\n\t\ttotalStoredPrice = JSON.parse(sessionStorage.getItem('totalPrice'));\r\n\t} else {\r\n\t\tcartConfirm = [];\r\n\t}\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst parsedCart = JSON.parse(sessionStorage.getItem('cart'));\r\n\t\tconst data = { contact, parsedCart };\r\n\t\tconst email = {};\r\n\t\taxios.post(`${process.env.CMSLINKORDERS}`, data).then((res) => {\r\n\t\t\temail.to = res.data.emailAddress;\r\n\t\t\temail.subject = `2BirdsWedding: Номер заказа / Order Confirmation: ${res.data.order_number}`;\r\n\t\t\temail.text = `Мы получили Ваш заказ и свяжемся с Вами в течение 24 часов. Спасибо! \r\n\t\t\t\t<br> \r\n\t\t\t\tС уважением, \r\n\t\t\t\t<br>\r\n\t\t\t\tДаша \r\n\t\t\t\t<br>\r\n\t\t\t\t<br> \r\n\t\t\t\t<hr> \r\n\t\t\t\t<br> \r\n\t\t\t\tYour order has been submitted! We will be in contact with you within 24 hours. Thank You!\r\n\t\t\t\t<br> \r\n\t\t\t\tSincerely, \r\n\t\t\t\t<br>\r\n\t\t\t\tDasha`;\r\n\t\t\temail.orderNumber = res.data.order_number;\r\n\t\t\t//redirect to thank you page\r\n\r\n\t\t\trouter.push({ pathname: '/confirmation', query: { orderNumber: res.data.order_number } });\r\n\r\n\t\t\t//clear session storage\r\n\r\n\t\t\tsetCart([]);\r\n\t\t\treturn axios.post(`${process.env.CMSLINKEMAILS}`, email);\r\n\t\t});\r\n\t};\r\n\r\n\t//Handles iteration of items in the session storage cart\r\n\r\n\treturn (\r\n\t\t<div className=\"shipping-info\">\r\n\t\t\t<form onSubmit={handleSubmit} className=\"shipping-info__form\" style={{ margin: '0px auto' }}>\r\n\t\t\t\t<h2 className=\"shipping-info__form__title\">{currLang ? ru.title : en.title}</h2>\r\n\t\t\t\t<div className=\"shipping-info__form__group\" style={style}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"firstName\"\r\n\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\thandleChange(e);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tclassName=\"shipping-info__form__group__input\"\r\n\t\t\t\t\t\tplaceholder={currLang ? ru.firstName : en.firstName}\r\n\t\t\t\t\t\tstyle={{ width: '340px' }}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"lastName\"\r\n\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\thandleChange(e);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tstyle={{ width: '340px' }}\r\n\t\t\t\t\t\tclassName=\"shipping-info__form__group__input\"\r\n\t\t\t\t\t\tplaceholder={currLang ? ru.lastName : en.lastName}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"shipping-info__form__group\" style={style}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\tname=\"emailAddress\"\r\n\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\thandleChange(e);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tstyle={{ width: '340px' }}\r\n\t\t\t\t\t\tclassName=\"shipping-info__form__group__input\"\r\n\t\t\t\t\t\tplaceholder={currLang ? ru.email : en.email}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"tel\"\r\n\t\t\t\t\t\tname=\"telephoneNumber\"\r\n\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\thandleChange(e);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tstyle={{ width: '340px' }}\r\n\t\t\t\t\t\tclassName=\"shipping-info__form__group__input\"\r\n\t\t\t\t\t\tplaceholder={currLang ? ru.phoneNumber : en.phoneNumber}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"shipping-info__form__information\">{currLang ? ru.information : en.information}</div>\r\n\t\t\t\t{/* <input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tname=\"address\"\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\thandleChange(e);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName=\"shipping-info__form__input\"\r\n\t\t\t\t\tplaceholder={currLang ? ru.address : en.address}\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tname=\"address_two\"\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\thandleChange(e);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName=\"shipping-info__form__input\"\r\n\t\t\t\t\tplaceholder={currLang ? ru.address2 : en.address2}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tname=\"city\"\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\thandleChange(e);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName=\"shipping-info__form__input\"\r\n\t\t\t\t\tplaceholder={currLang ? ru.city : en.city}\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\t\t\t\t<div />\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tname=\"state_region_province\"\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\thandleChange(e);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName=\"shipping-info__form__input\"\r\n\t\t\t\t\tplaceholder={currLang ? ru.region : en.region}\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tname=\"country\"\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\thandleChange(e);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName=\"shipping-info__form__input\"\r\n\t\t\t\t\tplaceholder={currLang ? ru.country : en.country}\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tname=\"index\"\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\thandleChange(e);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName=\"shipping-info__form__input\"\r\n\t\t\t\t\tplaceholder={currLang ? ru.index : en.index}\r\n\t\t\t\t\trequired\r\n\t\t\t\t/> */}\r\n\t\t\t\t<h2 className=\"shipping-info__form__title\">{currLang ? ru.confirmation : en.confirmation}</h2>\r\n\t\t\t\t<ul className=\"shipping-info__form__cart shipping-info__form__cart__header\">\r\n\t\t\t\t\t<li className=\"shipping-info__form__cart__item shipping-info__form__cart__header\">\r\n\t\t\t\t\t\t{currLang ? ru.productImage : en.productImage}\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className=\"shipping-info__form__cart__item shipping-info__form__cart__header\">\r\n\t\t\t\t\t\t{currLang ? ru.productName : en.productName}\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className=\"shipping-info__form__cart__item shipping-info__form__cart__header\">\r\n\t\t\t\t\t\t{currLang ? ru.productAddOns : en.productAddOns}\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className=\"shipping-info__form__cart__item shipping-info__form__cart__header\">\r\n\t\t\t\t\t\t{currLang ? ru.productQuantity : en.productQuantity}\r\n\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t<li className=\"shipping-info__form__cart__item shipping-info__form__cart__header\">\r\n\t\t\t\t\t\t{currLang ? ru.productTotal : en.productTotal}\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t{Object.values(cartConfirm).map((el) => {\r\n\t\t\t\t\tif (typeof el === 'object') {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"shipping-info__form__cart\">\r\n\t\t\t\t\t\t\t\t<li className=\"shipping-info__form__cart__item\">\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: '75px', height: '85px' }}\r\n\t\t\t\t\t\t\t\t\t\tsrc={`${process.env.CMSLINK}${el.productImage}`}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"shipping-info__form__cart__item\">\r\n\t\t\t\t\t\t\t\t\t{currLang ? el.productName.ru : el.productName.en}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"shipping-info__form__cart__item\">\r\n\t\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t\t{Object.values(el.productParams).map((element) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <li key={element.id}>{currLang ? element.ru : element.en}</li>;\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"shipping-info__form__cart__item\">{el.quantity}</li>\r\n\r\n\t\t\t\t\t\t\t\t<li className=\"shipping-info__form__cart__item\">{el.productPrice * el.quantity} p.</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t})}\r\n\t\t\t\t<ul className=\"shipping-info__form__cart\" style={{ borderBottom: 'none' }}>\r\n\t\t\t\t\t<li className=\"shipping-info__form__cart__item\" style={{ borderBottom: 'none' }}>\r\n\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className=\"shipping-info__form__cart__item\" style={{ borderBottom: 'none' }}>\r\n\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className=\"shipping-info__form__cart__item\">\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetShipSubmit(true);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tclassName=\"shipping-info__form__button\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{currLang ? ru.submit : en.submit}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className=\"shipping-info__form__cart__item\">{currLang ? ru.orderTotal : en.orderTotal}:</li>\r\n\t\t\t\t\t<li className=\"shipping-info__form__cart__item\">{totalStoredPrice} p.</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}