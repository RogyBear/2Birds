{"version":3,"file":"static/webpack/static\\development\\pages\\cart.js.3df4ac0b486373c4c2e3.hot-update.js","sources":["webpack:///./components/ShoppingCart.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\r\nimport { CartContext } from '../contexts/CartContext';\r\nimport { LanguageContext } from '../contexts/LanguageContext';\r\nimport Link from 'next/link';\r\n// import { css } from '@emotion/core';\r\n// import ClockLoader from 'react-spinners/ClockLoader';\r\nconst ShoppingCart = (props) => {\r\n\tconst { cart, deleteItem, quantityDecrease, quantityIncrease, totalPrice, setTotalPrice } = useContext(CartContext);\r\n\tconst { language, currLang, setCurrLang } = useContext(LanguageContext);\r\n\t// const [ loading, setLoading ] = useState(false);\r\n\tconst ru = language.russian.cart;\r\n\tconst en = language.english.cart;\r\n\tlet sessionStorageCart;\r\n\r\n\tif (typeof window !== 'undefined') {\r\n\t\tsessionStorageCart = JSON.parse(sessionStorage.getItem('cart'));\r\n\t} else {\r\n\t\tsessionStorageCart = [];\r\n\t}\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tlet totalPrice = 0;\r\n\t\t\tfor (let i = 0; i < cart.length; i++) {\r\n\t\t\t\ttotalPrice = totalPrice + cart[i].productPrice * cart[i].quantity;\r\n\t\t\t}\r\n\r\n\t\t\tsetTotalPrice(totalPrice);\r\n\t\t\twindow.sessionStorage.setItem('totalPrice', JSON.stringify(totalPrice));\r\n\t\t},\r\n\t\t[ cart ]\r\n\t);\r\n\treturn (\r\n\t\t<div className=\"cart\">\r\n\t\t\t{/* <ClockLoader css={override} size={150} color={'#FFACBA'} loading={loading} /> */}\r\n\t\t\t<div className=\"cart__item\">\r\n\t\t\t\t<p className=\"cart__item__content cart__item__content__header\">\r\n\t\t\t\t\t{currLang ? ru.productImage : en.productImage}\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"cart__item__content cart__item__content__header\">\r\n\t\t\t\t\t{currLang ? ru.productName : en.productName}\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"cart__item__content cart__item__content__header\">\r\n\t\t\t\t\t{currLang ? ru.productAddOns : en.productAddOns}\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"cart__item__content cart__item__content__header\">\r\n\t\t\t\t\t{currLang ? ru.productUnitPrice : en.productUnitPrice}\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"cart__item__content cart__item__content__header\">\r\n\t\t\t\t\t{currLang ? ru.productQuantity : en.productQuantity}\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"cart__item__content cart__item__content__header\">\r\n\t\t\t\t\t{currLang ? ru.productTotal : en.productTotal}\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"cart__item__content cart__item__content__header\">\r\n\t\t\t\t\t{currLang ? ru.productDelete : en.productDelete}\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t\t{sessionStorageCart.map((e, i) => (\r\n\t\t\t\t<div className=\"cart__item\" key={e.id}>\r\n\t\t\t\t\t<div className=\"cart__item__content\">\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tstyle={{ width: '75px', height: '85px' }}\r\n\t\t\t\t\t\t\tsrc={`${process.env.CMSLINK}${e.productImage}`}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<p className=\"cart__item__content\">{currLang ? e.productName.ru : e.productName.en}</p>\r\n\t\t\t\t\t<ul className=\"cart__item__content\">\r\n\t\t\t\t\t\t{Object.values(e.productParams).map((el) => {\r\n\t\t\t\t\t\t\tlet arr = [];\r\n\t\t\t\t\t\t\tObject.values(el).map((ele) => {\r\n\t\t\t\t\t\t\t\tarr.push(ele.toString());\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<li key={el.id} className=\"cart__item__content__item\">\r\n\t\t\t\t\t\t\t\t\t{currLang ? `${arr[1]} - ${arr[2]} p.` : `${arr[0]} - ${arr[2]} p.`}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</ul>\r\n\r\n\t\t\t\t\t<p className=\"cart__item__content\">\r\n\t\t\t\t\t\t{e.productPrice} p. / {currLang ? ru.unit : en.unit}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"cart__item__content cart__cart-quantity\"\r\n\t\t\t\t\t\tstyle={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<button className=\"cart__cart-quantity__btn\" value={i} onClick={(el) => quantityDecrease(el)} />\r\n\t\t\t\t\t\t<p className=\"cart__cart-quantity__number\">{e.quantity}</p>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"cart__cart-quantity__btn__increase\"\r\n\t\t\t\t\t\t\tvalue={i}\r\n\t\t\t\t\t\t\tonClick={(el) => quantityIncrease(el)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<p className=\"cart__item__content\">{e.quantity * e.productPrice} p.</p>\r\n\t\t\t\t\t<div className=\"cart__item__content cart__delete\">\r\n\t\t\t\t\t\t<button className=\"cart__delete__btn\" onClick={(el) => deleteItem(el)} value={i}>\r\n\t\t\t\t\t\t\t<svg className=\"cart__delete__garbage\" width=\"25\" height=\"55\" viewBox=\"0 0 32 32\">\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\tfill=\"red\"\r\n\t\t\t\t\t\t\t\t\td=\"M4 10v20c0 1.1 0.9 2 2 2h18c1.1 0 2-0.9 2-2v-20h-22zM10 28h-2v-14h2v14zM14 28h-2v-14h2v14zM18 28h-2v-14h2v14zM22 28h-2v-14h2v14z\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\tclassName=\"cart__delete__garbage__lid\"\r\n\t\t\t\t\t\t\t\t\tfill=\"red\"\r\n\t\t\t\t\t\t\t\t\td=\"M26.5 4h-6.5v-2.5c0-0.825-0.675-1.5-1.5-1.5h-7c-0.825 0-1.5 0.675-1.5 1.5v2.5h-6.5c-0.825 0-1.5 0.675-1.5 1.5v2.5h26v-2.5c0-0.825-0.675-1.5-1.5-1.5zM18 4h-6v-1.975h6v1.975z\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t))}\r\n\t\t\t<div className=\"cart__item cart__item__button\" style={{ border: 'none' }}>\r\n\t\t\t\t<div className=\"cart__item__content\" />\r\n\t\t\t\t<div className=\"cart__item__content\" />\r\n\t\t\t\t<div className=\"cart__item__content\" />\r\n\t\t\t\t<div className=\"cart__item__content\" />\r\n\t\t\t\t<div className=\"cart__item__content\">\r\n\t\t\t\t\t<Link href={{ pathname: '/shipping' }}>\r\n\t\t\t\t\t\t<button className=\"cart__button\">{currLang ? ru.confirm : en.confirm}</button>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"cart__item__content\">\r\n\t\t\t\t\t{currLang ? ru.orderTotal : en.orderTotal}: {totalPrice} p.\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"cart__item__content\" />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\nexport default ShoppingCart;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAEA;AACA;AAAA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAhDA;AA0DA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAAA;;;;A","sourceRoot":""}