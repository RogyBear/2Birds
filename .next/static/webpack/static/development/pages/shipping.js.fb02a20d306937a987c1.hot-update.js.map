{"version":3,"file":"static/webpack/static\\development\\pages\\shipping.js.fb02a20d306937a987c1.hot-update.js","sources":["webpack:///./components/ShippingInfo.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { ShippingContext } from '../contexts/ShippingContext';\r\nimport { CartContext } from '../contexts/CartContext';\r\nimport { useRouter } from 'next/router';\r\nimport axios from 'axios';\r\nimport { LanguageContext } from '../contexts/LanguageContext';\r\nexport default function ShippingInfo() {\r\n\tconst { cart, setCart, shipSubmit, setShipSubmit } = useContext(CartContext);\r\n\tconst { handleChange, contact } = useContext(ShippingContext);\r\n\tconst { currLang, language } = useContext(LanguageContext);\r\n\tconst router = useRouter();\r\n\tconst style = { display: 'flex', justifyContent: 'space-between', width: '100%' };\r\n\tlet cartConfirm;\r\n\tlet totalStoredPrice;\r\n\tconst ru = language.russian.cart;\r\n\tconst en = language.english.cart;\r\n\tif (typeof window !== 'undefined') {\r\n\t\tcartConfirm = JSON.parse(sessionStorage.getItem('cart'));\r\n\t\ttotalStoredPrice = JSON.parse(sessionStorage.getItem('totalPrice'));\r\n\t} else {\r\n\t\tcartConfirm = [];\r\n\t}\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst parsedCart = JSON.parse(sessionStorage.getItem('cart'));\r\n\t\tconst data = { contact, parsedCart };\r\n\t\tconst email = {};\r\n\t\taxios.post(`${process.env.CMSLINKORDERS}`, data).then((res) => {\r\n\t\t\temail.to = res.data.emailAddress;\r\n\t\t\temail.subject = `2BirdsWedding: Номер заказа / Order Confirmation: ${res.data.order_number}`;\r\n\t\t\temail.text = `Мы получили Ваш заказ и свяжемся с Вами в течение 24 часов. Спасибо! \r\n\t\t\t\t<br> \r\n\t\t\t\tС уважением, \r\n\t\t\t\t<br>\r\n\t\t\t\tДаша \r\n\t\t\t\t<br>\r\n\t\t\t\t<br> \r\n\t\t\t\t<hr> \r\n\t\t\t\t<br> \r\n\t\t\t\tYour order has been submitted! We will be in contact with you within 24 hours. Thank You!\r\n\t\t\t\t<br> \r\n\t\t\t\tSincerely, \r\n\t\t\t\t<br>\r\n\t\t\t\tDasha`;\r\n\t\t\temail.orderNumber = res.data.order_number;\r\n\t\t\t//redirect to thank you page\r\n\r\n\t\t\trouter.push({ pathname: '/confirmation', query: { orderNumber: res.data.order_number } });\r\n\r\n\t\t\t//clear session storage\r\n\r\n\t\t\tsetCart([]);\r\n\t\t\treturn axios.post(`${process.env.CMSLINKEMAILS}`, email);\r\n\t\t});\r\n\t};\r\n\r\n\t//Handles iteration of items in the session storage cart\r\n\r\n\treturn (\r\n\t\t<div className=\"shipping-info\">\r\n\t\t\t<form onSubmit={handleSubmit} className=\"shipping-info__form\" style={{ margin: '0px auto' }}>\r\n\t\t\t\t<h2 className=\"shipping-info__form__title\">{currLang ? ru.title : en.title}</h2>\r\n\t\t\t\t<div className=\"shipping-info__form__group\" style={style}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"firstName\"\r\n\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\thandleChange(e);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tclassName=\"shipping-info__form__group__input\"\r\n\t\t\t\t\t\tplaceholder={currLang ? ru.firstName : en.firstName}\r\n\t\t\t\t\t\tstyle={{ width: '340px' }}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"lastName\"\r\n\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\thandleChange(e);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tstyle={{ width: '340px' }}\r\n\t\t\t\t\t\tclassName=\"shipping-info__form__group__input\"\r\n\t\t\t\t\t\tplaceholder={currLang ? ru.lastName : en.lastName}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"shipping-info__form__group\" style={style}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\tname=\"emailAddress\"\r\n\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\thandleChange(e);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tstyle={{ width: '340px' }}\r\n\t\t\t\t\t\tclassName=\"shipping-info__form__group__input\"\r\n\t\t\t\t\t\tplaceholder={currLang ? ru.email : en.email}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"tel\"\r\n\t\t\t\t\t\tname=\"telephoneNumber\"\r\n\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\thandleChange(e);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tstyle={{ width: '340px' }}\r\n\t\t\t\t\t\tclassName=\"shipping-info__form__group__input\"\r\n\t\t\t\t\t\tplaceholder={currLang ? ru.phoneNumber : en.phoneNumber}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"shipping-info__form__\">\r\n\t\t\t\t\tdskcamskdjcnjskdacnlk\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* <input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tname=\"address\"\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\thandleChange(e);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName=\"shipping-info__form__input\"\r\n\t\t\t\t\tplaceholder={currLang ? ru.address : en.address}\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tname=\"address_two\"\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\thandleChange(e);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName=\"shipping-info__form__input\"\r\n\t\t\t\t\tplaceholder={currLang ? ru.address2 : en.address2}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tname=\"city\"\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\thandleChange(e);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName=\"shipping-info__form__input\"\r\n\t\t\t\t\tplaceholder={currLang ? ru.city : en.city}\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\t\t\t\t<div />\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tname=\"state_region_province\"\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\thandleChange(e);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName=\"shipping-info__form__input\"\r\n\t\t\t\t\tplaceholder={currLang ? ru.region : en.region}\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tname=\"country\"\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\thandleChange(e);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName=\"shipping-info__form__input\"\r\n\t\t\t\t\tplaceholder={currLang ? ru.country : en.country}\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tname=\"index\"\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\thandleChange(e);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName=\"shipping-info__form__input\"\r\n\t\t\t\t\tplaceholder={currLang ? ru.index : en.index}\r\n\t\t\t\t\trequired\r\n\t\t\t\t/> */}\r\n\t\t\t\t<h2 className=\"shipping-info__form__title\">{currLang ? ru.confirmation : en.confirmation}</h2>\r\n\t\t\t\t<ul className=\"shipping-info__form__cart shipping-info__form__cart__header\">\r\n\t\t\t\t\t<li className=\"shipping-info__form__cart__item shipping-info__form__cart__header\">\r\n\t\t\t\t\t\t{currLang ? ru.productImage : en.productImage}\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className=\"shipping-info__form__cart__item shipping-info__form__cart__header\">\r\n\t\t\t\t\t\t{currLang ? ru.productName : en.productName}\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className=\"shipping-info__form__cart__item shipping-info__form__cart__header\">\r\n\t\t\t\t\t\t{currLang ? ru.productAddOns : en.productAddOns}\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className=\"shipping-info__form__cart__item shipping-info__form__cart__header\">\r\n\t\t\t\t\t\t{currLang ? ru.productQuantity : en.productQuantity}\r\n\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t<li className=\"shipping-info__form__cart__item shipping-info__form__cart__header\">\r\n\t\t\t\t\t\t{currLang ? ru.productTotal : en.productTotal}\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t{Object.values(cartConfirm).map((el) => {\r\n\t\t\t\t\tif (typeof el === 'object') {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"shipping-info__form__cart\">\r\n\t\t\t\t\t\t\t\t<li className=\"shipping-info__form__cart__item\">\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: '75px', height: '85px' }}\r\n\t\t\t\t\t\t\t\t\t\tsrc={`${process.env.CMSLINK}${el.productImage}`}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"shipping-info__form__cart__item\">\r\n\t\t\t\t\t\t\t\t\t{currLang ? el.productName.ru : el.productName.en}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"shipping-info__form__cart__item\">\r\n\t\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t\t{Object.values(el.productParams).map((element) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <li key={element.id}>{currLang ? element.ru : element.en}</li>;\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"shipping-info__form__cart__item\">{el.quantity}</li>\r\n\r\n\t\t\t\t\t\t\t\t<li className=\"shipping-info__form__cart__item\">{el.productPrice * el.quantity} p.</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t})}\r\n\t\t\t\t<ul className=\"shipping-info__form__cart\" style={{ borderBottom: 'none' }}>\r\n\t\t\t\t\t<li className=\"shipping-info__form__cart__item\" style={{ borderBottom: 'none' }}>\r\n\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className=\"shipping-info__form__cart__item\" style={{ borderBottom: 'none' }}>\r\n\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className=\"shipping-info__form__cart__item\">\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetShipSubmit(true);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tclassName=\"shipping-info__form__button\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{currLang ? ru.submit : en.submit}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className=\"shipping-info__form__cart__item\">{currLang ? ru.orderTotal : en.orderTotal}:</li>\r\n\t\t\t\t\t<li className=\"shipping-info__form__cart__item\">{totalStoredPrice} p.</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA,WAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAcA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;A","sourceRoot":""}